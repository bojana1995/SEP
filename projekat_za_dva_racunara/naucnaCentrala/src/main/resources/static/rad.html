<!DOCTYPE html>
<html>
	<style>
		html, .mojaKlasa {
			height: 720px;
			background-color: #F0F8FF;
			background-image: linear-gradient(#F0F8FF, #4682B4);
		}
	</style>

	<head>
		<meta charset="UTF-8">
		<title>Naučni rad</title>
		<script src="scripts/jquery-3.2.1.min.js"></script>
		<script src="scripts/dodavanjeRadaScript.js"></script>
		<link href="bootstrapB/css/bootstrap.css" rel="stylesheet" type="text/css"/>
		<script src="bootstrapB/js/bootstrap.js" type="text/javascript"></script>
	</head>
	
	<body>
		<div class="mojaKlasa">
			<div class="row">
				<div class="col-lg-12 col-lg-9"></div>
	  			<div class="col-lg-6 col-lg-3">
				    <div class="form-group">
				    	<form action="index.html" class="form-horizontal">
					        <div class="col-lg-4">
					            <input class="btn btn-link" type="submit" value="Početna">
					        </div>
				        </form>
				        <form action="homePage.html" class="form-horizontal">
					        <div class="col-lg-4">
					            <input class="btn btn-link" type="submit" value="Nazad">
					        </div>
				        </form>
				    </div>
	  			</div>
			</div>
		
			<div class="container">
	   			<div style="margin-top:20px;" class="mainbox col-lg-6 col-lg-offset-3 col-lg-8 col-lg-offset-7"> 
	        		<div class="panel panel-primary" >
	            		<div class="panel-heading">
	                		<div class="panel-title text-center">Naučni rad</div>
	            		</div>
	            		  
	            		<div class="panel-body" style="padding-top:30px">
	            			<div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
	                		<form id="formaDodajRad" action="homePage.html" class="form-horizontal" enctype="multipart/form-data">
	                		<div class="form-group col-lg-12"  style="margin-bottom: 25px; margin-left: -15px">	
									<div class="form-group" style="margin-left: 2px">
									    <p>Odaberite pdf Vašeg rada:</p>
									   	<input type="file" name="files" class="form-control-file" id="pdfFile">
									  </div>
	                    	</div>
	        
	                    	
	                    	<div class="form-group col-lg-12"  style="margin-bottom: 25px; margin-left: -15px">
								<label>Odaberite naučnu oblast kojoj rad pripada:</label> 
								<select class="form-control" id="naucnaOblastSelect" name="naucnaOblast"></select>
							</div>
							
							<div class="form-group col-lg-12"  style="margin-bottom: 25px; margin-left: -15px">
								<label>Odaberite časopis kojoj rad pripada:</label> 
								<select class="form-control" id="casopisRadaSelect" name="casopisRada"></select>
							</div>
	                		
	                		
	                    		
	                    		<div class="input-group" style="margin-bottom: 25px">
	                        		<span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
	                        		<input id="naslovRadaInput" type="text" class="form-control" name="naslovRada" value="" placeholder="Naslov">
	                    		</div>
	                    		
	                    		<div class="input-group" style="margin-bottom: 25px">
	                        		<span class="input-group-addon"><i class="glyphicon glyphicon-th-list"></i></span>
	                        		<input id="kljucniPojmoviInput" type="text" class="form-control" name="kljucneReci" placeholder="Ključni pojmovi">
	                    		</div>
	                    		
	                    		<div class="input-group" style="margin-bottom: 25px">
	                        		<span class="input-group-addon"><i class="glyphicon glyphicon-th-list"></i></span>
	                        		<input id="apstraktInput" type="text" class="form-control" name="apstrakt" placeholder="Apstrakt">
	                    		</div>
	                    		
	                    		<div class="input-group" style="margin-bottom: 25px">
	                        		<span class="input-group-addon"><i class="glyphicon glyphicon-th-list"></i></span>
	                        		<input id="amount" type="number" class="form-control" name="amount" placeholder="Cena">
	                    		</div>
	                    		        
	                    		<div id="divValidacija"></div>  
	                    		                                                                 
	                    		<div class="form-group">
	                        		<div class="col-lg-offset-3 col-lg-9" style="margin-top: 25px">
	                            		<button id="dugmeDodaj" class="btn btn-primary" style="float:right" onclick="dodajRad()"> Dodaj </button> 	
	                            	</div>
	                    		</div>
	                		</form>
	            		</div>                     
	        		</div>  
	    		</div>
			</div>	
		</div>
			
		<script type="text/javascript">
			$(document).ready(
				function() {
			        $.ajax({
						url: "https://192.168.43.196:9081/naucnaOblast/getNaucneOblasti",
						type: "GET",
						contentType: "application/json",
						datatype: 'json',
						crossDomain: true,
				        headers: {  'Access-Control-Allow-Origin': '*' },
				        xhrFields: {
				            withCredentials: true
				         },
						success: function(data){
							$("#naucnaOblastSelect").empty();
							var list = data == null ? [] : (data instanceof Array ? data : [ data ]);
							var naucneOblasti = $("#naucnaOblastSelect");
							$.each(list, function(index, naucnaOblast) {
								var li = $('<option id="'+data[index].id+'" value="'+naucnaOblast.naziv+'">'+ naucnaOblast.naziv+ '</option>');
								$(naucneOblasti).append(li);
							});
						},
						error: function(data){
							alert('GREŠKA PRILIKOM PREUZIMANJA LISTE NAUČNIH OBLASTI!!!')
						}
					});
			        $.ajax({
							url: "https://192.168.43.196:9081/casopis/getCasopisi",
							type: "GET",
							contentType: "application/json",
							datatype: 'json',
							crossDomain: true,
					        headers: {  'Access-Control-Allow-Origin': '*' },
					        xhrFields: {
					            withCredentials: true
					         },
							success: function(data){
								$("#casopisRadaSelect").empty();
								var list = data == null ? [] : (data instanceof Array ? data : [ data ]);
								var casopisi = $("#casopisRadaSelect");
								$.each(list, function(index, casopis) {
									var li = $('<option id="'+data[index].id+'" value="'+casopis.naziv+'">'+ casopis.naziv+ '</option>');
									$(casopisi).append(li);
							});
						},
						error: function(data){
							alert('GREŠKA PRILIKOM PREUZIMANJA LISTE CASOPISA!!!')
						}
					});
				});
		</script>		
	</body>
</html>
